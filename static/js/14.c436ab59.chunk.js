(this["webpackJsonpcsaigmc-frontend"]=this["webpackJsonpcsaigmc-frontend"]||[]).push([[14],{219:function(e,t,a){"use strict";var n=a(41),r=a(19),l=a(15),o=a(0),c=a.n(o),i=a(157),u=(a(72),a(25)),s=a(103),m=function(e){var t=e.errorText;return c.a.createElement("div",{className:"col-12 text-center"},c.a.createElement("div",{className:"display-inline-block"},c.a.createElement("h2",{className:"bg-danger p-2 rounded-sm text-light text-center"},t)))},d=a(222),b=a.n(d),f=a(67),g=a(203),_=a(60),p=a(345),O=a(331),E=a(194),y=a(327),j=a(71),v=a(328),h=a(329),q=a(330),x=a(208),A=a(40);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var D=function(e,t){var a={};return t.map((function(t,n){a[t]=e&&e[t]||""})),a},N=function(e){var t=e.fullScreen,a=e.renderer,n=e.isShowing,i=e.editdata,u=e.constfieldsNameList,s=e.fieldNameMapping,m=e.onSave,d=e.onClose,b=Object(o.useState)(D(i,u)),f=Object(l.a)(b,2),_=f[0],p=f[1];Object(o.useEffect)((function(){p(D(i,u))}),[n]);A.b&&(console.log("----------EDITOR BEGIN-------------"),console.log(n),console.log(i),console.log(u),console.log(s),console.log("----------EDITOR END-------------"));var O=a(_,(function(e){p(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},_,Object(r.a)({},e.target.name,e.target.value)))}));return console.log(O),c.a.createElement(y.a,{fullScreen:t,open:n,onClose:function(){return d()},"aria-labelledby":"student-data-edit"},c.a.createElement(v.a,null,"Edit Details "),c.a.createElement(h.a,null,c.a.createElement(g.a,{container:!0},O)),c.a.createElement(q.a,null,c.a.createElement(x.a,{onClick:function(){return d()}},"Cancel"),c.a.createElement(x.a,{color:"primary",onClick:function(){return m(_)}},"Save")))};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return M}));var P=Object(f.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}})),M=function(e){var t,a=e.updateObject,d=e.deleteObject,f=e.queryObject,v=e.addObject,h=e.constfieldsNameList,q=e.fieldNameMapping,x=e.editorRender,S=e.fullScreen,D=e.dialogRender,C=Object(u.b)().setLoading,M=Object(o.useState)(null),k=Object(l.a)(M,2),I=k[0],T=k[1],W=Object(o.useState)(!1),L=Object(l.a)(W,2),$=L[0],R=L[1],F=Object(o.useState)(!1),B=Object(l.a)(F,2),U=B[0],G=B[1],J=Object(o.useState)("Dummy Message"),V=Object(l.a)(J,2),z=V[0],H=V[1],K=Object(o.useState)(!1),Q=Object(l.a)(K,2),Y=Q[0],X=Q[1],Z=Object(o.useState)(-1),ee=Object(l.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(!0),re=Object(l.a)(ne,2),le=re[0],oe=re[1],ce=Object(i.b)(f.query_query,{variables:{options:w({skip:0,limit:12},f.query_params)}}),ie=ce.loading,ue=ce.data,se=(ce.error,ce.fetchMore),me=Object(i.a)(a.update_query),de=Object(l.a)(me,2),be=de[0],fe=de[1],ge=Object(i.a)(d.delete_query,{update:function(e,t){console.log("___DELETE___"),console.log(t)}}),_e=Object(l.a)(ge,2),pe=_e[0],Oe=_e[1],Ee=Object(i.a)(v.add_query,{update:function(e,t){console.log("___ADD___"),console.log(t)}}),ye=Object(l.a)(Ee,2),je=ye[0],ve=ye[1],he=Object(j.a)(),qe=P(),xe=Object(u.b)();if(A.b&&(console.log("...Component Custom.."),console.log(ue),console.log(".....")),Object(o.useEffect)((function(){!0===ie?C(!0):!1===ie&&(C(!1),(!ue||ue[f.query_tablename].length<12)&&oe(!1))}),[ie]),Object(o.useEffect)((function(){fe&&!1===fe.loading&&!0===Y&&(H(fe.error?a.error_message:a.success_message),G(!0),C(!1))}),[fe.loading]),Object(o.useEffect)((function(){ve&&!1===ve.loading&&!0===Y&&(H(ve.error?v.error_message:v.success_message),G(!0),C(!1))}),[ve.loading]),Object(o.useEffect)((function(){Oe&&!1===Oe.loading&&!0===Y&&(H(Oe.error?d.error_message:d.success_message),G(!0),C(!1))}),[Oe.loading]),console.log(ue),!0===ie)t=c.a.createElement(s.a,null);else if("undefined"!==typeof ue&&ue)if(0===ue[f.query_tablename].length)t=c.a.createElement(g.a,{container:!0,justify:"center"},c.a.createElement(g.a,{item:!0},c.a.createElement(_.a,{variant:"h2",className:qe.notfound},f.null_found)));else{for(var Ae=ue[f.query_tablename].map((function(e,t){return f.forEachItem(e,t,(function(){T(t),R(!0)}),(function(){A.b&&(console.log("........."),console.log(e),console.log(d.delete_unique_field),console.log(d.delete_unique_var),console.log(e[d.delete_unique_field]),console.log("..........")),pe({variables:Object(r.a)({},d.delete_unique_var,e[d.delete_unique_field])}),X(!0)}),ae)})),Se=[],De=0;De<ue[f.query_tablename].length;De+=4){for(var Ne=[],Ce=De;Ce<De+4;++Ce)Ne.push(Ae[Ce]);Se.push(c.a.createElement(g.a,{container:!0},Ne))}A.b&&(console.log("xxxx"),console.log(Ae),console.log("xxxx")),t=c.a.createElement(b.a,{hasMore:le,loader:c.a.createElement("div",null,"Loading More Items..."),endMessage:c.a.createElement("div",null,"Loaded All!"),next:function(){var e=ue[f.query_tablename].length/12;return console.log("SKIP: ".concat(e," | ").concat(Math.floor(e))),se({variables:{options:w({skip:e,limit:12},f.query_params)},updateQuery:function(e,t){var a=t.fetchMoreResult;return a&&le?(console.log(e),console.log(f),console.log(a),a[f.query_tablename].length<12&&oe(!1),Object(r.a)({},f.query_tablename,[].concat(Object(n.a)(e[f.query_tablename]),Object(n.a)(a[f.query_tablename])))):e}})}},Se)}else t=c.a.createElement(m,{errorText:f.null_found?f.null_found:"Nothing Found :/"});return A.b&&console.log(t),c.a.createElement(g.a,{container:!0,className:he.py2},c.a.createElement(p.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:U,autoHideDuration:3e3,message:z,onClose:function(){G(!1)}}),c.a.createElement(N,{fullScreen:!!S,renderer:x,isShowing:$,constfieldsNameList:h,fieldNameMapping:q,editdata:null!==I&&ue&&ue[f.query_tablename]?ue[f.query_tablename][I]:null,onClose:function(){-1!==I&&T(-1),R(!1)},onSave:function(e){if(A.b&&(console.log("____ON SAVE BEGIN____"),console.log(e),console.log("____ON SAVE END____")),null!==I){var t,n=ue[f.query_tablename][I][f.query_unique_field];R(!1),xe.setLoading(!0),be({variables:(t={},Object(r.a)(t,a.update_var_unique,n),Object(r.a)(t,a.update_var_info,e),t)}),X(!0)}else R(!1),xe.setLoading(!0),je({variables:Object(r.a)({},v.add_var_info,e)}),X(!0)}}),c.a.createElement(g.a,{item:!0,xs:12},t),c.a.createElement(O.a,{className:qe.fab,color:"secondary",onClick:function(){T(null),R(!0)}},c.a.createElement(E.a,null,"add")),c.a.createElement(y.a,{onClose:function(){return ae(-1)},color:"secondary",open:-1!==te&&te>=0},D&&-1!==te&&te>=0&&ue&&ue[f.query_tablename]?D(ue[f.query_tablename][te]):null))};t.b=M},342:function(e,t,a){"use strict";a.r(t);var n=a(221),r=a(0),l=a.n(r),o=a(219),c=a(73),i=a.n(c),u=a(67),s=a(203),m=a(332),d=a(333),b=a(60),f=a(334),g=a(193),_=a(194),p=a(208),O=a(328),E=a(329),y=a(214),j=a(206),v=a(216),h=a(211),q=a(231),x=a(71),A=a(224),S=a.n(A);function D(){var e=Object(n.a)(["\nmutation AddEnigma($article: InpArticle!) {\n    addArticle(article: $article) {\n        _id\n        text\n        title\n        author\n        about_author\n        article_type\n        create_date\n    }\n}\n"]);return D=function(){return e},e}function N(){var e=Object(n.a)(["\nmutation DeleteEnigma($id: ID!) {\n    deleteArticle(id: $id){\n        _id\n    }\n}\n"]);return N=function(){return e},e}function C(){var e=Object(n.a)(["\nmutation UpdateEnigma($id: ID!, $article: InpArticle) {\n    updateArticle(id: $id, article:  $article) {\n        _id\n        author\n        about_author\n        text\n        title\n        article_type\n        create_date\n    }   \n}\n"]);return C=function(){return e},e}function w(){var e=Object(n.a)(["\nquery AllEnigmas($options: InpOptions){\n    allArticles(options: $options) {\n        _id\n        author\n        about_author\n        text\n        title\n        article_type\n        create_date\n    }\n}\n"]);return w=function(){return e},e}var P=i()(w()),M=i()(C()),k=i()(N()),I=i()(D()),T=["text","article_type","title","author","about_author"],W={text:{value:"Text",required:!0},title:{value:"Title",required:!0},article_type:{value:"Article Type",required:!0},author:{value:"Author",required:!0},about_author:{value:"About Author",required:!0}},L=Object(u.a)((function(){return{editor:{fontFamily:"IBM Plex Mono, ubuntu mono, consolas, source code pro, monospace !important"}}}));t.default=function(){var e=Object(x.a)(),t=L();return l.a.createElement(o.a,{updateObject:{update_query:M,error_message:"Error Upadting Article",success_message:"Updated Article!",update_var_unique:"id",update_var_info:"article"},deleteObject:{delete_query:k,delete_unique_var:"id",delete_unique_field:"_id",error_message:"Error deleting Article",success_message:"Deleted Article!"},queryObject:{query_query:P,query_unique_field:"_id",query_tablename:"allArticles",forEachItem:function(t,a,n,r,o){var c=new Date;c.setTime(t.create_date);var i=c.getUTCDate(),u=c.getMonth()+1,O=c.getFullYear(),E="".concat(u,"/").concat(i,"/").concat(O);return l.a.createElement(s.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:3,classname:"".concat(e.mx2," ").concat(e.my2)},l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(b.a,{variant:"h6",noWrap:!0},t.title),l.a.createElement(b.a,{variant:"body1",noWrap:!0},"By: ",t.author),l.a.createElement(b.a,null,"Created On: ",E)),l.a.createElement(f.a,{disableSpacing:!0},l.a.createElement(g.a,{onClick:n},l.a.createElement(_.a,null,"edit")),l.a.createElement(g.a,{onClick:r},l.a.createElement(_.a,null,"delete")),l.a.createElement(p.a,{color:"primary",onClick:function(){return o(a)}},"More"))))},query_params:{type:"enigma"}},addObject:{add_query:I,error_message:"Error Adding Article",success_message:"Added Article",add_var_info:"article"},constfieldsNameList:T,fieldNameMapping:W,dialogRender:function(e){return l.a.createElement(r.Fragment,null,l.a.createElement(O.a,null,e.title),l.a.createElement(E.a,{dividers:!0},e.text))},fullScreen:!0,editorRender:function(e,a){return l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(s.a,{container:!0},l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(y.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"Title",required:!0,name:"title",value:e.title,onChange:a})),l.a.createElement(s.a,{item:!0,xs:12,md:6},l.a.createElement(y.a,{className:"".concat(t.editor),margin:"normal",rows:10,maxRows:10,noWrap:!0,fullWidth:!0,label:"Text",multiline:!0,required:!0,name:"text",value:e.text,onChange:a})),l.a.createElement(s.a,{item:!0,xs:12,md:6},l.a.createElement(b.a,null,"Output"),l.a.createElement(b.a,null,l.a.createElement(S.a,{source:e.text}))),l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(y.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"Author",required:!0,name:"author",value:e.author,onChange:a})),l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(y.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"About Author",required:!0,name:"about_author",value:e.about_author,onChange:a})),l.a.createElement(j.a,{fullWidth:!0},l.a.createElement(v.a,{htmlFor:"age-simple"},"Type"),l.a.createElement(h.a,{value:e.article_type,onChange:a,inputProps:{name:"article_type"}},l.a.createElement(q.a,{value:"enigma"},"Enigma")))))}})}}}]);
//# sourceMappingURL=14.c436ab59.chunk.js.map