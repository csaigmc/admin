(this["webpackJsonpcsaigmc-frontend"]=this["webpackJsonpcsaigmc-frontend"]||[]).push([[11],{219:function(e,t,n){"use strict";var a=n(41),o=n(19),r=n(15),l=n(0),c=n.n(l),i=n(157),s=(n(72),n(25)),u=n(103),m=function(e){var t=e.errorText;return c.a.createElement("div",{className:"col-12 text-center"},c.a.createElement("div",{className:"display-inline-block"},c.a.createElement("h2",{className:"bg-danger p-2 rounded-sm text-light text-center"},t)))},d=n(222),p=n.n(d),b=n(67),g=n(203),f=n(60),_=n(345),O=n(331),j=n(194),y=n(327),E=n(71),v=n(328),h=n(329),q=n(330),C=n(208),S=n(40);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var D=function(e,t){var n={};return t.map((function(t,a){n[t]=e&&e[t]||""})),n},N=function(e){var t=e.fullScreen,n=e.renderer,a=e.isShowing,i=e.editdata,s=e.constfieldsNameList,u=e.fieldNameMapping,m=e.onSave,d=e.onClose,p=Object(l.useState)(D(i,s)),b=Object(r.a)(p,2),f=b[0],_=b[1];Object(l.useEffect)((function(){_(D(i,s))}),[a]);S.b&&(console.log("----------EDITOR BEGIN-------------"),console.log(a),console.log(i),console.log(s),console.log(u),console.log("----------EDITOR END-------------"));var O=n(f,(function(e){_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},f,Object(o.a)({},e.target.name,e.target.value)))}));return console.log(O),c.a.createElement(y.a,{fullScreen:t,open:a,onClose:function(){return d()},"aria-labelledby":"student-data-edit"},c.a.createElement(v.a,null,"Edit Details "),c.a.createElement(h.a,null,c.a.createElement(g.a,{container:!0},O)),c.a.createElement(q.a,null,c.a.createElement(C.a,{onClick:function(){return d()}},"Cancel"),c.a.createElement(C.a,{color:"primary",onClick:function(){return m(f)}},"Save")))};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return M}));var I=Object(b.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}})),M=function(e){var t,n=e.updateObject,d=e.deleteObject,b=e.queryObject,v=e.addObject,h=e.constfieldsNameList,q=e.fieldNameMapping,C=e.editorRender,x=e.fullScreen,D=e.dialogRender,w=Object(s.b)().setLoading,M=Object(l.useState)(null),k=Object(r.a)(M,2),L=k[0],$=k[1],A=Object(l.useState)(!1),R=Object(r.a)(A,2),T=R[0],W=R[1],G=Object(l.useState)(!1),H=Object(r.a)(G,2),B=H[0],F=H[1],U=Object(l.useState)("Dummy Message"),z=Object(r.a)(U,2),J=z[0],V=z[1],K=Object(l.useState)(!1),Q=Object(r.a)(K,2),Y=Q[0],X=Q[1],Z=Object(l.useState)(-1),ee=Object(r.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(l.useState)(!0),oe=Object(r.a)(ae,2),re=oe[0],le=oe[1],ce=Object(i.b)(b.query_query,{variables:{options:P({skip:0,limit:12},b.query_params)}}),ie=ce.loading,se=ce.data,ue=(ce.error,ce.fetchMore),me=Object(i.a)(n.update_query),de=Object(r.a)(me,2),pe=de[0],be=de[1],ge=Object(i.a)(d.delete_query,{update:function(e,t){console.log("___DELETE___"),console.log(t)}}),fe=Object(r.a)(ge,2),_e=fe[0],Oe=fe[1],je=Object(i.a)(v.add_query,{update:function(e,t){console.log("___ADD___"),console.log(t)}}),ye=Object(r.a)(je,2),Ee=ye[0],ve=ye[1],he=Object(E.a)(),qe=I(),Ce=Object(s.b)();if(S.b&&(console.log("...Component Custom.."),console.log(se),console.log(".....")),Object(l.useEffect)((function(){!0===ie?w(!0):!1===ie&&(w(!1),(!se||se[b.query_tablename].length<12)&&le(!1))}),[ie]),Object(l.useEffect)((function(){be&&!1===be.loading&&!0===Y&&(V(be.error?n.error_message:n.success_message),F(!0),w(!1))}),[be.loading]),Object(l.useEffect)((function(){ve&&!1===ve.loading&&!0===Y&&(V(ve.error?v.error_message:v.success_message),F(!0),w(!1))}),[ve.loading]),Object(l.useEffect)((function(){Oe&&!1===Oe.loading&&!0===Y&&(V(Oe.error?d.error_message:d.success_message),F(!0),w(!1))}),[Oe.loading]),console.log(se),!0===ie)t=c.a.createElement(u.a,null);else if("undefined"!==typeof se&&se)if(0===se[b.query_tablename].length)t=c.a.createElement(g.a,{container:!0,justify:"center"},c.a.createElement(g.a,{item:!0},c.a.createElement(f.a,{variant:"h2",className:qe.notfound},b.null_found)));else{for(var Se=se[b.query_tablename].map((function(e,t){return b.forEachItem(e,t,(function(){$(t),W(!0)}),(function(){S.b&&(console.log("........."),console.log(e),console.log(d.delete_unique_field),console.log(d.delete_unique_var),console.log(e[d.delete_unique_field]),console.log("..........")),_e({variables:Object(o.a)({},d.delete_unique_var,e[d.delete_unique_field])}),X(!0)}),ne)})),xe=[],De=0;De<se[b.query_tablename].length;De+=4){for(var Ne=[],we=De;we<De+4;++we)Ne.push(Se[we]);xe.push(c.a.createElement(g.a,{container:!0},Ne))}S.b&&(console.log("xxxx"),console.log(Se),console.log("xxxx")),t=c.a.createElement(p.a,{hasMore:re,loader:c.a.createElement("div",null,"Loading More Items..."),endMessage:c.a.createElement("div",null,"Loaded All!"),next:function(){var e=se[b.query_tablename].length/12;return console.log("SKIP: ".concat(e," | ").concat(Math.floor(e))),ue({variables:{options:P({skip:e,limit:12},b.query_params)},updateQuery:function(e,t){var n=t.fetchMoreResult;return n&&re?(console.log(e),console.log(b),console.log(n),n[b.query_tablename].length<12&&le(!1),Object(o.a)({},b.query_tablename,[].concat(Object(a.a)(e[b.query_tablename]),Object(a.a)(n[b.query_tablename])))):e}})}},xe)}else t=c.a.createElement(m,{errorText:b.null_found?b.null_found:"Nothing Found :/"});return S.b&&console.log(t),c.a.createElement(g.a,{container:!0,className:he.py2},c.a.createElement(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:B,autoHideDuration:3e3,message:J,onClose:function(){F(!1)}}),c.a.createElement(N,{fullScreen:!!x,renderer:C,isShowing:T,constfieldsNameList:h,fieldNameMapping:q,editdata:null!==L&&se&&se[b.query_tablename]?se[b.query_tablename][L]:null,onClose:function(){-1!==L&&$(-1),W(!1)},onSave:function(e){if(S.b&&(console.log("____ON SAVE BEGIN____"),console.log(e),console.log("____ON SAVE END____")),null!==L){var t,a=se[b.query_tablename][L][b.query_unique_field];W(!1),Ce.setLoading(!0),pe({variables:(t={},Object(o.a)(t,n.update_var_unique,a),Object(o.a)(t,n.update_var_info,e),t)}),X(!0)}else W(!1),Ce.setLoading(!0),Ee({variables:Object(o.a)({},v.add_var_info,e)}),X(!0)}}),c.a.createElement(g.a,{item:!0,xs:12},t),c.a.createElement(O.a,{className:qe.fab,color:"secondary",onClick:function(){$(null),W(!0)}},c.a.createElement(j.a,null,"add")),c.a.createElement(y.a,{onClose:function(){return ne(-1)},color:"secondary",open:-1!==te&&te>=0},D&&-1!==te&&te>=0&&se&&se[b.query_tablename]?D(se[b.query_tablename][te]):null))};t.b=M},231:function(e,t,n){"use strict";var a=n(2),o=n(19),r=n(1),l=n(0),c=n.n(l),i=(n(8),n(3)),s=n(6),u=n(200),m=c.a.forwardRef((function(e,t){var n,o=e.classes,l=e.className,s=e.component,m=void 0===s?"li":s,d=e.disableGutters,p=void 0!==d&&d,b=e.role,g=void 0===b?"menuitem":b,f=e.selected,_=e.tabIndex,O=Object(a.a)(e,["classes","className","component","disableGutters","role","selected","tabIndex"]);return e.disabled||(n=void 0!==_?_:-1),c.a.createElement(u.a,Object(r.a)({button:!0,role:g,tabIndex:n,component:m,selected:f,disableGutters:p,classes:{dense:o.dense},className:Object(i.a)(o.root,l,f&&o.selected,!p&&o.gutters),ref:t},O))}));t.a=Object(s.a)((function(e){return{root:Object(r.a)({},e.typography.body1,Object(o.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(r.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(m)},326:function(e,t,n){"use strict";n.r(t);var a=n(221),o=n(0),r=n.n(o),l=(n(72),n(73)),c=n.n(l),i=n(67),s=n(203),u=n(332),m=n(333),d=n(60),p=n(334),b=n(193),g=n(194),f=n(214),_=n(206),O=n(216),j=n(211),y=n(231),E=n(71),v=n(219);function h(){var e=Object(a.a)(["\nmutation AddComplaint($complaint: InpComplaint!) {\n    addComplaint(complaint: $complaint) {\n        _id\n        complaint_message\n        complaint_status\n        create_date\n    }\n}\n"]);return h=function(){return e},e}function q(){var e=Object(a.a)(["\nmutation DeleteComplaint($id: ID!) {\n    deleteComplaint(id: $id){\n        _id\n    }\n}\n"]);return q=function(){return e},e}function C(){var e=Object(a.a)(["\nmutation UpdateComplaint($id: ID!, $complaint: InpComplaint!) {\n    updateComplaint(id: $id, complaint:  $complaint) {\n        _id\n        complaint_message\n        complaint_status\n        create_date\n    }   \n}\n"]);return C=function(){return e},e}function S(){var e=Object(a.a)(["\nquery AllComplaints($options: InpOptions){\n    allComplaints(options: $options) {\n        _id\n        complaint_message\n        complaint_status\n        create_date\n    }\n}\n"]);return S=function(){return e},e}Object(i.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}}));var x=c()(S()),D=c()(C()),N=c()(q()),w=c()(h()),P=["complaint_message","complaint_status"],I={complaint_message:{value:"Complaint Message",required:!0},complaint_status:{value:"Complaint Status",required:!0}};t.default=function(){var e=Object(E.a)();return r.a.createElement(v.b,{updateObject:{update_query:D,error_message:"Error updating Complaint",success_message:"Updated Complaint!",update_var_unique:"id",update_var_info:"complaint"},deleteObject:{delete_query:N,delete_unique_var:"id",delete_unique_field:"_id",error_message:"Error deleting Complaint",success_message:"Deleted Complaint!"},queryObject:{query_query:x,query_unique_field:"_id",query_tablename:"allComplaints",forEachItem:function(t,n,a,o){var l=new Date;l.setTime(t.create_date);var c=l.getUTCDate(),i=l.getMonth()+1,f=l.getFullYear(),_="".concat(i,"/").concat(c,"/").concat(f);return r.a.createElement(s.a,{key:n,item:!0,xs:12,sm:6,md:4,lg:3,classname:"".concat(e.mx2," ").concat(e.my2)},r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{noWrap:!0},"ID: ",t._id),r.a.createElement(d.a,{noWrap:!0},t.complaint_message),r.a.createElement(d.a,{noWrap:!0},"Status: ",r.a.createElement(d.a,{component:"span",color:"pending"===t.complaint_status?"inherit":"inprogress"===t.complaint_status?"primary":"error"},t.complaint_status)," "),r.a.createElement(d.a,{noWrap:!0},"Created On: ",_)),r.a.createElement(p.a,{disableSpacing:!0},r.a.createElement(b.a,{onClick:a},r.a.createElement(g.a,null,"edit")),r.a.createElement(b.a,{onClick:o},r.a.createElement(g.a,null,"delete")))))}},addObject:{add_query:w,error_message:"Error Adding Complaint",success_message:"Added Complaint",add_var_info:"complaint"},constfieldsNameList:P,fieldNameMapping:I,editorRender:function(t,n){return console.log(t),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(f.a,{multiline:!0,rowsMax:5,rows:5,label:"Complaint Message",placeholder:"Complaint Message",name:"complaint_message",onChange:n,value:t.complaint_message,fullWidth:!0,className:"".concat(e.mb1)}),r.a.createElement(_.a,{fullWidth:!0},r.a.createElement(O.a,{htmlFor:"age-simple"},"Complaint Status"),r.a.createElement(j.a,{value:t.complaint_status,onChange:n,inputProps:{name:"complaint_status"}},r.a.createElement(y.a,{value:"pending"},"Pending"),r.a.createElement(y.a,{value:"inprogress"},"In Progress"),r.a.createElement(y.a,{value:"resolved"},"Resolved"))))}})}}}]);
//# sourceMappingURL=11.647766e7.chunk.js.map