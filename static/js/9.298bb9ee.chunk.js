(this["webpackJsonpcsaigmc-frontend"]=this["webpackJsonpcsaigmc-frontend"]||[]).push([[9],{219:function(e,t,n){"use strict";var a=n(19),o=n(15),r=n(0),i=n.n(r),c=n(157),l=(n(72),n(24)),u=n(103),s=function(e){var t=e.errorText;return i.a.createElement("div",{className:"col-12 text-center"},i.a.createElement("div",{className:"display-inline-block"},i.a.createElement("h2",{className:"bg-danger p-2 rounded-sm text-light text-center"},t)))},f=(n(223),n(67)),d=n(203),b=n(60),m=n(342),p=n(331),g=n(194),_=n(327),O=n(71),j=n(328),v=n(329),y=n(330),E=n(208),N=n(40);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var q=function(e,t){var n={};return t.map((function(t,a){n[t]=e&&e[t]||""})),n},x=function(e){var t=e.fullScreen,n=e.renderer,c=e.isShowing,l=e.editdata,u=e.constfieldsNameList,s=e.fieldNameMapping,f=e.onSave,b=e.onClose,m=Object(r.useState)(q(l,u)),p=Object(o.a)(m,2),g=p[0],O=p[1];Object(r.useEffect)((function(){O(q(l,u))}),[c]);N.b&&(console.log("----------EDITOR BEGIN-------------"),console.log(c),console.log(l),console.log(u),console.log(s),console.log("----------EDITOR END-------------"));var x=n(g,(function(e){O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g,Object(a.a)({},e.target.name,e.target.value)))}));return console.log(x),i.a.createElement(_.a,{fullScreen:t,open:c,onClose:function(){return b()},"aria-labelledby":"student-data-edit"},i.a.createElement(j.a,null,"Edit Details "),i.a.createElement(v.a,null,i.a.createElement(d.a,{container:!0},x)),i.a.createElement(y.a,null,i.a.createElement(E.a,{onClick:function(){return b()}},"Cancel"),i.a.createElement(E.a,{color:"primary",onClick:function(){return f(g)}},"Save")))};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return C}));var w=Object(f.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}})),C=function(e){var t,n=e.updateObject,f=e.deleteObject,j=e.queryObject,v=e.addObject,y=e.constfieldsNameList,E=e.fieldNameMapping,h=e.editorRender,q=e.fullScreen,S=e.dialogRender,C=Object(l.b)().setLoading,k=Object(r.useState)(null),P=Object(o.a)(k,2),I=P[0],$=P[1],L=Object(r.useState)(!1),T=Object(o.a)(L,2),A=T[0],M=T[1],R=Object(r.useState)(!1),V=Object(o.a)(R,2),B=V[0],F=V[1],U=Object(r.useState)("Dummy Message"),W=Object(o.a)(U,2),z=W[0],H=W[1],G=Object(r.useState)(!1),J=Object(o.a)(G,2),Y=J[0],K=J[1],Q=Object(r.useState)(-1),X=Object(o.a)(Q,2),Z=X[0],ee=X[1],te=Object(r.useState)(!0),ne=Object(o.a)(te,2),ae=(ne[0],ne[1],Object(c.b)(j.query_query,{variables:{options:D({skip:0,limit:40},j.query_params)}})),oe=ae.loading,re=ae.data,ie=(ae.error,ae.fetchMore,Object(c.a)(n.update_query)),ce=Object(o.a)(ie,2),le=ce[0],ue=ce[1],se=Object(c.a)(f.delete_query),fe=Object(o.a)(se,2),de=fe[0],be=fe[1],me=Object(c.a)(v.add_query),pe=Object(o.a)(me,2),ge=pe[0],_e=pe[1],Oe=Object(O.a)(),je=w(),ve=Object(l.b)();if(N.b&&(console.log("...Component Custom.."),console.log(re),console.log(".....")),!0===oe?C(!0):!1===oe&&C(!1),Object(r.useEffect)((function(){ue&&!1===ue.loading&&!0===Y&&(H(ue.error?n.error_message:n.success_message),F(!0))}),[ue.loading]),Object(r.useEffect)((function(){_e&&!1===_e.loading&&!0===Y&&(H(_e.error?v.error_message:v.success_message),F(!0))}),[_e.loading]),Object(r.useEffect)((function(){be&&!1===be.loading&&!0===Y&&(H(be.error?f.error_message:f.success_message),F(!0))}),[be.loading]),console.log(re),!0===oe)t=i.a.createElement(u.a,null);else if("undefined"!==typeof re&&re)if(0===re[j.query_tablename].length)t=i.a.createElement(d.a,{container:!0,justify:"center"},i.a.createElement(d.a,{item:!0},i.a.createElement(b.a,{variant:"h2",className:je.notfound},j.null_found)));else{for(var ye=re[j.query_tablename].map((function(e,t){return j.forEachItem(e,t,(function(){$(t),M(!0)}),(function(){de({variables:Object(a.a)({},f.delete_unique_var,e[f.delete_unique_field])}),K(!0)}),ee)})),Ee=[],Ne=0;Ne<re[j.query_tablename].length;Ne+=4){for(var he=[],qe=Ne;qe<Ne+4;++qe)he.push(ye[qe]);Ee.push(i.a.createElement(d.a,{item:!0,xs:12},i.a.createElement(d.a,{container:!0,spacing:2},he)))}N.b&&(console.log("xxxx"),console.log(ye),console.log("xxxx")),t=i.a.createElement(d.a,{container:!0,spacing:2},Ee)}else t=i.a.createElement(s,{errorText:j.null_found?j.null_found:"Nothing Found :/"});return N.b&&console.log(t),i.a.createElement(d.a,{container:!0,className:Oe.py2},i.a.createElement(m.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:B,autoHideDuration:3e3,message:z,onClose:function(){F(!1)}}),i.a.createElement(x,{fullScreen:!!q,renderer:h,isShowing:A,constfieldsNameList:y,fieldNameMapping:E,editdata:null!==I&&re&&re[j.query_tablename]?re[j.query_tablename][I]:null,onClose:function(){-1!==I&&$(-1),M(!1)},onSave:function(e){if(N.b&&(console.log("____ON SAVE BEGIN____"),console.log(e),console.log("____ON SAVE END____")),null!==I){var t,o=re[j.query_tablename][I][j.query_unique_field];M(!1),ve.setLoading(!0),le({variables:(t={},Object(a.a)(t,n.update_var_unique,o),Object(a.a)(t,n.update_var_info,e),t)}),K(!0)}else M(!1),ve.setLoading(!0),ge({variables:Object(a.a)({},v.add_var_info,e)}),K(!0)}}),t,i.a.createElement(p.a,{className:je.fab,color:"secondary",onClick:function(){$(null),M(!0)}},i.a.createElement(g.a,null,"add")),i.a.createElement(_.a,{onClose:function(){return ee(-1)},color:"secondary",open:-1!==Z&&Z>=0},S&&-1!==Z&&Z>=0&&re&&re[j.query_tablename]?S(re[j.query_tablename][Z]):null))};t.b=C},228:function(e,t,n){"use strict";var a=n(1),o=n(2),r=n(0),i=n.n(r),c=(n(8),n(3)),l=n(9),u=n(6),s=n(74),f=n(10),d=n(60),b=i.a.forwardRef((function(e,t){var n=e.classes,r=e.className,u=e.color,b=void 0===u?"primary":u,m=e.component,p=void 0===m?"a":m,g=e.onBlur,_=e.onFocus,O=e.TypographyClasses,j=e.underline,v=void 0===j?"hover":j,y=e.variant,E=void 0===y?"inherit":y,N=Object(o.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),h=Object(s.a)(),q=h.isFocusVisible,x=h.onBlurVisible,S=h.ref,D=i.a.useState(!1),w=D[0],C=D[1],k=Object(f.a)(t,S);return i.a.createElement(d.a,Object(a.a)({className:Object(c.a)(n.root,n["underline".concat(Object(l.a)(v))],r,w&&n.focusVisible,{button:n.button}[p]),classes:O,color:b,component:p,onBlur:function(e){w&&(x(),C(!1)),g&&g(e)},onFocus:function(e){q(e)&&C(!0),_&&_(e)},ref:k,variant:E},N))}));t.a=Object(u.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(b)},335:function(e,t,n){"use strict";n.r(t);var a=n(222),o=n(0),r=n.n(o),i=n(219),c=n(73),l=n.n(c),u=n(203),s=n(332),f=n(333),d=n(60),b=n(228),m=n(334),p=n(193),g=n(194),_=n(214),O=n(71);function j(){var e=Object(a.a)(["\nmutation AddNotification($notification: InpNotification!) {\n    addNotification(notification: $notification) {\n        _id\n        notification_text\n        notification_url\n        create_date\n    }\n}\n"]);return j=function(){return e},e}function v(){var e=Object(a.a)(["\nmutation DeleteNotification($id: ID!) {\n    deleteNotification(id: $id){\n        _id\n    }\n}\n"]);return v=function(){return e},e}function y(){var e=Object(a.a)(["\nmutation UpdateNotification($id: ID!, $notification: InpNotification) {\n    updateNotification(id: $id, notification:  $notification) {\n        _id\n        notification_text\n        notification_url\n        create_date\n    }   \n}\n"]);return y=function(){return e},e}function E(){var e=Object(a.a)(["\nquery AllNotifications($options: InpOptions){\n    allNotifications(options: $options) {\n        _id\n        notification_text\n        notification_url\n        create_date\n    }\n}\n"]);return E=function(){return e},e}var N=l()(E()),h=l()(y()),q=l()(v()),x=l()(j()),S=["notification_text","notification_url"],D={notification_text:{value:"Text",required:!0},notification_url:{value:"URL",required:!0}};t.default=function(){var e=Object(O.a)();return r.a.createElement(i.a,{updateObject:{update_query:h,error_message:"Error Upadting Notification",success_message:"Updated Notification!",update_var_unique:"id",update_var_info:"notification"},deleteObject:{delete_query:q,delete_unique_var:"id",delete_unique_field:"_id",error_message:"Error deleting Notification",success_message:"Deleted Notification!"},queryObject:{query_query:N,query_unique_field:"_id",query_tablename:"allNotifications",forEachItem:function(t,n,a,o){var i=new Date;i.setTime(t.create_date);var c=i.getUTCDate(),l=i.getMonth()+1,_=i.getFullYear(),O="".concat(l,"/").concat(c,"/").concat(_);return r.a.createElement(u.a,{key:n,item:!0,xs:12,sm:6,md:4,lg:3,classname:"".concat(e.mx2," ").concat(e.my2)},r.a.createElement(s.a,null,r.a.createElement(f.a,null,r.a.createElement(d.a,{variant:"h6",noWrap:!0},"Link: ",r.a.createElement(b.a,{target:"_blank",rel:"noopener",href:t.notification_url},t.notification_text)),r.a.createElement(d.a,null,"Created On: ",O)),r.a.createElement(m.a,{disableSpacing:!0},r.a.createElement(p.a,{onClick:a},r.a.createElement(g.a,null,"edit")),r.a.createElement(p.a,{onClick:o},r.a.createElement(g.a,null,"delete")))))}},addObject:{add_query:x,error_message:"Error Adding Notification",success_message:"Added Notification",add_var_info:"notification"},constfieldsNameList:S,fieldNameMapping:D,editorRender:function(e,t){return S.map((function(n,a){var o=D[n];return r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(_.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"".concat(o.value),required:o.required,name:"".concat(n),value:e[n],onChange:t}))}))}})}}}]);
//# sourceMappingURL=9.298bb9ee.chunk.js.map