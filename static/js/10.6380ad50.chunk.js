(this["webpackJsonpcsaigmc-frontend"]=this["webpackJsonpcsaigmc-frontend"]||[]).push([[10],{219:function(e,t,a){"use strict";var n=a(19),r=a(15),o=a(0),l=a.n(o),c=a(157),i=(a(72),a(24)),u=a(103),s=function(e){var t=e.errorText;return l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("div",{className:"display-inline-block"},l.a.createElement("h2",{className:"bg-danger p-2 rounded-sm text-light text-center"},t)))},d=(a(222),a(67)),m=a(203),b=a(60),p=a(344),f=a(331),_=a(194),g=a(327),O=a(71),y=a(328),E=a(329),v=a(330),j=a(208),h=a(40);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var S=function(e,t){var a={};return t.map((function(t,n){a[t]=e&&e[t]||""})),a},x=function(e){var t=e.fullScreen,a=e.renderer,c=e.isShowing,i=e.editdata,u=e.constfieldsNameList,s=e.fieldNameMapping,d=e.onSave,b=e.onClose,p=Object(o.useState)(S(i,u)),f=Object(r.a)(p,2),_=f[0],O=f[1];Object(o.useEffect)((function(){O(S(i,u))}),[c]);h.b&&(console.log("----------EDITOR BEGIN-------------"),console.log(c),console.log(i),console.log(u),console.log(s),console.log("----------EDITOR END-------------"));var x=a(_,(function(e){O(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},_,Object(n.a)({},e.target.name,e.target.value)))}));return console.log(x),l.a.createElement(g.a,{fullScreen:t,open:c,onClose:function(){return b()},"aria-labelledby":"student-data-edit"},l.a.createElement(y.a,null,"Edit Details "),l.a.createElement(E.a,null,l.a.createElement(m.a,{container:!0},x)),l.a.createElement(v.a,null,l.a.createElement(j.a,{onClick:function(){return b()}},"Cancel"),l.a.createElement(j.a,{color:"primary",onClick:function(){return d(_)}},"Save")))};function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return P}));var D=Object(d.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}})),P=function(e){var t,a=e.updateObject,d=e.deleteObject,y=e.queryObject,E=e.addObject,v=e.constfieldsNameList,j=e.fieldNameMapping,q=e.editorRender,S=e.fullScreen,N=e.dialogRender,P=Object(i.b)().setLoading,w=Object(o.useState)(null),A=Object(r.a)(w,2),T=A[0],k=A[1],I=Object(o.useState)(!1),R=Object(r.a)(I,2),L=R[0],M=R[1],$=Object(o.useState)(!1),W=Object(r.a)($,2),U=W[0],F=W[1],H=Object(o.useState)("Dummy Message"),B=Object(r.a)(H,2),G=B[0],J=B[1],V=Object(o.useState)(!1),z=Object(r.a)(V,2),Q=z[0],Y=z[1],K=Object(o.useState)(-1),X=Object(r.a)(K,2),Z=X[0],ee=X[1],te=Object(o.useState)(!0),ae=Object(r.a)(te,2),ne=(ae[0],ae[1],Object(c.b)(y.query_query,{variables:{options:C({skip:0,limit:40},y.query_params)}})),re=ne.loading,oe=ne.data,le=(ne.error,ne.fetchMore,Object(c.a)(a.update_query)),ce=Object(r.a)(le,2),ie=ce[0],ue=ce[1],se=Object(c.a)(d.delete_query,{update:function(e,t){console.log("___DELETE___"),console.log(t),e.writeQuery({query:y})}}),de=Object(r.a)(se,2),me=de[0],be=de[1],pe=Object(c.a)(E.add_query,{update:function(e,t){console.log("___ADD___"),console.log(t)}}),fe=Object(r.a)(pe,2),_e=fe[0],ge=fe[1],Oe=Object(O.a)(),ye=D(),Ee=Object(i.b)();if(h.b&&(console.log("...Component Custom.."),console.log(oe),console.log(".....")),!0===re?P(!0):!1===re&&P(!1),Object(o.useEffect)((function(){ue&&!1===ue.loading&&!0===Q&&(J(ue.error?a.error_message:a.success_message),F(!0))}),[ue.loading]),Object(o.useEffect)((function(){ge&&!1===ge.loading&&!0===Q&&(J(ge.error?E.error_message:E.success_message),F(!0))}),[ge.loading]),Object(o.useEffect)((function(){be&&!1===be.loading&&!0===Q&&(J(be.error?d.error_message:d.success_message),F(!0))}),[be.loading]),console.log(oe),!0===re)t=l.a.createElement(u.a,null);else if("undefined"!==typeof oe&&oe)if(0===oe[y.query_tablename].length)t=l.a.createElement(m.a,{container:!0,justify:"center"},l.a.createElement(m.a,{item:!0},l.a.createElement(b.a,{variant:"h2",className:ye.notfound},y.null_found)));else{for(var ve=oe[y.query_tablename].map((function(e,t){return y.forEachItem(e,t,(function(){k(t),M(!0)}),(function(){me({variables:Object(n.a)({},d.delete_unique_var,e[d.delete_unique_field])}),Y(!0)}),ee)})),je=[],he=0;he<oe[y.query_tablename].length;he+=4){for(var qe=[],Se=he;Se<he+4;++Se)qe.push(ve[Se]);je.push(l.a.createElement(m.a,{item:!0,xs:12},l.a.createElement(m.a,{container:!0,spacing:2},qe)))}h.b&&(console.log("xxxx"),console.log(ve),console.log("xxxx")),t=l.a.createElement(m.a,{container:!0,spacing:2},je)}else t=l.a.createElement(s,{errorText:y.null_found?y.null_found:"Nothing Found :/"});return h.b&&console.log(t),l.a.createElement(m.a,{container:!0,className:Oe.py2},l.a.createElement(p.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:U,autoHideDuration:3e3,message:G,onClose:function(){F(!1)}}),l.a.createElement(x,{fullScreen:!!S,renderer:q,isShowing:L,constfieldsNameList:v,fieldNameMapping:j,editdata:null!==T&&oe&&oe[y.query_tablename]?oe[y.query_tablename][T]:null,onClose:function(){-1!==T&&k(-1),M(!1)},onSave:function(e){if(h.b&&(console.log("____ON SAVE BEGIN____"),console.log(e),console.log("____ON SAVE END____")),null!==T){var t,r=oe[y.query_tablename][T][y.query_unique_field];M(!1),Ee.setLoading(!0),ie({variables:(t={},Object(n.a)(t,a.update_var_unique,r),Object(n.a)(t,a.update_var_info,e),t)}),Y(!0)}else M(!1),Ee.setLoading(!0),_e({variables:Object(n.a)({},E.add_var_info,e)}),Y(!0)}}),t,l.a.createElement(f.a,{className:ye.fab,color:"secondary",onClick:function(){k(null),M(!0)}},l.a.createElement(_.a,null,"add")),l.a.createElement(g.a,{onClose:function(){return ee(-1)},color:"secondary",open:-1!==Z&&Z>=0},N&&-1!==Z&&Z>=0&&oe&&oe[y.query_tablename]?N(oe[y.query_tablename][Z]):null))};t.b=P},226:function(e,t,a){"use strict";var n=a(1),r=a(2),o=a(0),l=a.n(o),c=(a(8),a(3)),i=a(6),u=a(60),s=l.a.forwardRef((function(e,t){var a=e.action,o=e.avatar,i=e.classes,s=e.className,d=e.component,m=void 0===d?"div":d,b=e.disableTypography,p=void 0!==b&&b,f=e.subheader,_=e.subheaderTypographyProps,g=e.title,O=e.titleTypographyProps,y=Object(r.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),E=g;null==E||E.type===u.a||p||(E=l.a.createElement(u.a,Object(n.a)({variant:o?"body2":"h5",className:i.title,component:"span",display:"block"},O),E));var v=f;return null==v||v.type===u.a||p||(v=l.a.createElement(u.a,Object(n.a)({variant:o?"body2":"body1",className:i.subheader,color:"textSecondary",component:"span",display:"block"},_),v)),l.a.createElement(m,Object(n.a)({className:Object(c.a)(i.root,s),ref:t},y),o&&l.a.createElement("div",{className:i.avatar},o),l.a.createElement("div",{className:i.content},E,v),a&&l.a.createElement("div",{className:i.action},a))}));t.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(s)},337:function(e,t,a){"use strict";a.r(t);var n=a(221),r=a(0),o=a.n(r),l=a(219),c=a(73),i=a.n(c),u=a(226),s=a(203),d=a(332),m=a(333),b=a(60),p=a(334),f=a(193),_=a(194),g=a(328),O=a(329),y=a(214),E=a(206),v=a(216),j=a(211),h=a(244),q=a(71);a(224);function S(){var e=Object(n.a)(["\nmutation AddArt($art: InpArt!) {\n    addArt(art: $art) {\n        _id\n        creator\n        about_creator\n        url_path\n        art_type\n        art_format\n        create_date\n    }\n}\n"]);return S=function(){return e},e}function x(){var e=Object(n.a)(["\nmutation DeleteArt($id: ID!) {\n    deleteArt(id: $id){\n        _id\n    }\n}\n"]);return x=function(){return e},e}function N(){var e=Object(n.a)(["\nmutation UpdateArts($id: ID!, $art: InpArt) {\n    updateArt(id: $id, art:  $art) {\n        _id\n        creator\n        about_creator\n        url_path\n        art_type\n        art_format\n        create_date\n    }   \n}\n"]);return N=function(){return e},e}function C(){var e=Object(n.a)(["\nquery AllArts($options: InpOptions){\n    allArts(options: $options) {\n        _id\n        creator\n        about_creator\n        url_path\n        art_format\n        art_type\n        create_date\n    }\n}\n"]);return C=function(){return e},e}var D=i()(C()),P=i()(N()),w=i()(x()),A=i()(S()),T=["creator","about_creator","url_path","art_type","art_format"],k={creator:{value:"Creator",required:!0},about_creator:{value:"About Creator",required:!0},url_path:{value:"URL path",required:!0},art_format:{value:"Format",required:!0}};t.default=function(){var e=Object(q.a)();return o.a.createElement(l.a,{updateObject:{update_query:P,error_message:"Error Upadting Student",success_message:"Updated student!",update_var_unique:"id",update_var_info:"art"},deleteObject:{delete_query:w,delete_unique_var:"id",delete_unique_field:"_id",error_message:"Error deleting Student",success_message:"Deleted Meme!"},queryObject:{query_query:D,query_unique_field:"_id",query_tablename:"allArts",forEachItem:function(t,a,n,r){var l=new Date;l.setTime(t.create_date);var c=l.getUTCDate(),i=l.getMonth()+1,g=l.getFullYear(),O="".concat(i,"/").concat(c,"/").concat(g);return o.a.createElement(s.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:3,classname:"".concat(e.mx2," ").concat(e.my2)},o.a.createElement(d.a,null,o.a.createElement(u.a,{title:t.creator,subheader:t.about_creator}),o.a.createElement(m.a,null,o.a.createElement(b.a,{variant:"overline"},"Preview"),o.a.createElement("img",{style:{width:"100%",maxHeight:"360px"},src:t.url_path}),o.a.createElement(b.a,null,t.creator),o.a.createElement(b.a,{variant:"subtitle1"},t.about_creator),o.a.createElement(b.a,null,"Created On: ",O)),o.a.createElement(p.a,{disableSpacing:!0},o.a.createElement(f.a,{onClick:n},o.a.createElement(_.a,null,"edit")),o.a.createElement(f.a,{onClick:r},o.a.createElement(_.a,null,"delete")))))},query_params:{type:"student"}},addObject:{add_query:A,error_message:"Error Adding Student",success_message:"Added Student",add_var_info:"art"},constfieldsNameList:T,fieldNameMapping:k,dialogRender:function(e){return o.a.createElement(r.Fragment,null,o.a.createElement(g.a,null,e.title),o.a.createElement(O.a,{dividers:!0},e.text))},editorRender:function(e,t){return console.log(e),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(y.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"Creator",name:"creator",value:e.creator,onChange:t})),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(y.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"About Creator",name:"about_creator",value:e.about_creator,onChange:t})),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(y.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"URL",required:!0,name:"url_path",value:e.url_path,onChange:t})),o.a.createElement(E.a,{fullWidth:!0},o.a.createElement(v.a,null,"Format"),o.a.createElement(j.a,{value:e.art_format,onChange:t,inputProps:{name:"art_format"}},o.a.createElement(h.a,{value:"image"},"Image"))),o.a.createElement(E.a,{fullWidth:!0},o.a.createElement(v.a,null,"CSA Member Type"),o.a.createElement(j.a,{value:e.art_type,onChange:t,inputProps:{name:"art_type"}},o.a.createElement(h.a,{value:"student"},"Student")))))}})}}}]);
//# sourceMappingURL=10.6380ad50.chunk.js.map