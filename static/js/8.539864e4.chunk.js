(this["webpackJsonpcsaigmc-frontend"]=this["webpackJsonpcsaigmc-frontend"]||[]).push([[8],{219:function(e,t,a){"use strict";var r=a(41),n=a(19),o=a(15),l=a(0),c=a.n(l),i=a(157),u=(a(72),a(24)),s=a(103),m=function(e){var t=e.errorText;return c.a.createElement("div",{className:"col-12 text-center"},c.a.createElement("div",{className:"display-inline-block"},c.a.createElement("h2",{className:"bg-danger p-2 rounded-sm text-light text-center"},t)))},d=a(222),b=a.n(d),p=a(67),f=a(203),_=a(60),g=a(344),y=a(331),O=a(194),E=a(327),v=a(71),j=a(328),h=a(329),q=a(330),x=a(208),N=a(40);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var S=function(e,t){var a={};return t.map((function(t,r){a[t]=e&&e[t]||""})),a},C=function(e){var t=e.fullScreen,a=e.renderer,r=e.isShowing,i=e.editdata,u=e.constfieldsNameList,s=e.fieldNameMapping,m=e.onSave,d=e.onClose,b=Object(l.useState)(S(i,u)),p=Object(o.a)(b,2),_=p[0],g=p[1];Object(l.useEffect)((function(){g(S(i,u))}),[r]);N.b&&(console.log("----------EDITOR BEGIN-------------"),console.log(r),console.log(i),console.log(u),console.log(s),console.log("----------EDITOR END-------------"));var y=a(_,(function(e){g(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},_,Object(n.a)({},e.target.name,e.target.value)))}));return console.log(y),c.a.createElement(E.a,{fullScreen:t,open:r,onClose:function(){return d()},"aria-labelledby":"student-data-edit"},c.a.createElement(j.a,null,"Edit Details "),c.a.createElement(h.a,null,c.a.createElement(f.a,{container:!0},y)),c.a.createElement(q.a,null,c.a.createElement(x.a,{onClick:function(){return d()}},"Cancel"),c.a.createElement(x.a,{color:"primary",onClick:function(){return m(_)}},"Save")))};function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return I}));var w=Object(p.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}})),I=function(e){var t,a=e.updateObject,d=e.deleteObject,p=e.queryObject,j=e.addObject,h=e.constfieldsNameList,q=e.fieldNameMapping,x=e.editorRender,A=e.fullScreen,S=e.dialogRender,P=Object(u.b)().setLoading,I=Object(l.useState)(null),T=Object(o.a)(I,2),k=T[0],M=T[1],L=Object(l.useState)(!1),R=Object(o.a)(L,2),W=R[0],$=R[1],F=Object(l.useState)(!1),U=Object(o.a)(F,2),B=U[0],H=U[1],G=Object(l.useState)("Dummy Message"),J=Object(o.a)(G,2),Q=J[0],V=J[1],z=Object(l.useState)(!1),K=Object(o.a)(z,2),Y=K[0],X=K[1],Z=Object(l.useState)(-1),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],re=Object(l.useState)(!0),ne=Object(o.a)(re,2),oe=ne[0],le=ne[1],ce=Object(i.b)(p.query_query,{variables:{options:D({skip:0,limit:12},p.query_params)}}),ie=ce.loading,ue=ce.data,se=(ce.error,ce.fetchMore),me=Object(i.a)(a.update_query),de=Object(o.a)(me,2),be=de[0],pe=de[1],fe=Object(i.a)(d.delete_query,{update:function(e,t){console.log("___DELETE___"),console.log(t),e.writeQuery({query:p})}}),_e=Object(o.a)(fe,2),ge=_e[0],ye=_e[1],Oe=Object(i.a)(j.add_query,{update:function(e,t){console.log("___ADD___"),console.log(t)}}),Ee=Object(o.a)(Oe,2),ve=Ee[0],je=Ee[1],he=Object(v.a)(),qe=w(),xe=Object(u.b)();if(N.b&&(console.log("...Component Custom.."),console.log(ue),console.log(".....")),Object(l.useEffect)((function(){!0===ie?P(!0):!1===ie&&(P(!1),ue[p.query_tablename].length<12&&le(!1))}),[ie]),Object(l.useEffect)((function(){pe&&!1===pe.loading&&!0===Y&&(V(pe.error?a.error_message:a.success_message),H(!0))}),[pe.loading]),Object(l.useEffect)((function(){je&&!1===je.loading&&!0===Y&&(V(je.error?j.error_message:j.success_message),H(!0))}),[je.loading]),Object(l.useEffect)((function(){ye&&!1===ye.loading&&!0===Y&&(V(ye.error?d.error_message:d.success_message),H(!0))}),[ye.loading]),console.log(ue),!0===ie)t=c.a.createElement(s.a,null);else if("undefined"!==typeof ue&&ue)if(0===ue[p.query_tablename].length)t=c.a.createElement(f.a,{container:!0,justify:"center"},c.a.createElement(f.a,{item:!0},c.a.createElement(_.a,{variant:"h2",className:qe.notfound},p.null_found)));else{for(var Ne=ue[p.query_tablename].map((function(e,t){return p.forEachItem(e,t,(function(){M(t),$(!0)}),(function(){ge({variables:Object(n.a)({},d.delete_unique_var,e[d.delete_unique_field])}),X(!0)}),ae)})),Ae=[],Se=0;Se<ue[p.query_tablename].length;Se+=4){for(var Ce=[],Pe=Se;Pe<Se+4;++Pe)Ce.push(Ne[Pe]);Ae.push(c.a.createElement(f.a,{container:!0},Ce))}N.b&&(console.log("xxxx"),console.log(Ne),console.log("xxxx")),t=c.a.createElement("div",null,c.a.createElement(b.a,{hasMore:oe,loader:c.a.createElement("div",null,"Loading More Items..."),endMessage:c.a.createElement("div",null,"Loaded All!"),next:function(){var e=ue[p.query_tablename].length/12;return console.log("SKIP: ".concat(e," | ").concat(Math.floor(e))),se({variables:{options:D({skip:e,limit:12},p.query_params)},updateQuery:function(e,t){var a=t.fetchMoreResult;return a&&oe?(console.log(e),console.log(p),console.log(a),a[p.query_tablename].length<12&&le(!1),Object(n.a)({},p.query_tablename,[].concat(Object(r.a)(e[p.query_tablename]),Object(r.a)(a[p.query_tablename])))):e}})}},Ae))}else t=c.a.createElement(m,{errorText:p.null_found?p.null_found:"Nothing Found :/"});return N.b&&console.log(t),c.a.createElement(f.a,{container:!0,className:he.py2},c.a.createElement(g.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:B,autoHideDuration:3e3,message:Q,onClose:function(){H(!1)}}),c.a.createElement(C,{fullScreen:!!A,renderer:x,isShowing:W,constfieldsNameList:h,fieldNameMapping:q,editdata:null!==k&&ue&&ue[p.query_tablename]?ue[p.query_tablename][k]:null,onClose:function(){-1!==k&&M(-1),$(!1)},onSave:function(e){if(N.b&&(console.log("____ON SAVE BEGIN____"),console.log(e),console.log("____ON SAVE END____")),null!==k){var t,r=ue[p.query_tablename][k][p.query_unique_field];$(!1),xe.setLoading(!0),be({variables:(t={},Object(n.a)(t,a.update_var_unique,r),Object(n.a)(t,a.update_var_info,e),t)}),X(!0)}else $(!1),xe.setLoading(!0),ve({variables:Object(n.a)({},j.add_var_info,e)}),X(!0)}}),t,c.a.createElement(y.a,{className:qe.fab,color:"secondary",onClick:function(){M(null),$(!0)}},c.a.createElement(O.a,null,"add")),c.a.createElement(E.a,{onClose:function(){return ae(-1)},color:"secondary",open:-1!==te&&te>=0},S&&-1!==te&&te>=0&&ue&&ue[p.query_tablename]?S(ue[p.query_tablename][te]):null))};t.b=I},226:function(e,t,a){"use strict";var r=a(1),n=a(2),o=a(0),l=a.n(o),c=(a(8),a(3)),i=a(6),u=a(60),s=l.a.forwardRef((function(e,t){var a=e.action,o=e.avatar,i=e.classes,s=e.className,m=e.component,d=void 0===m?"div":m,b=e.disableTypography,p=void 0!==b&&b,f=e.subheader,_=e.subheaderTypographyProps,g=e.title,y=e.titleTypographyProps,O=Object(n.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),E=g;null==E||E.type===u.a||p||(E=l.a.createElement(u.a,Object(r.a)({variant:o?"body2":"h5",className:i.title,component:"span",display:"block"},y),E));var v=f;return null==v||v.type===u.a||p||(v=l.a.createElement(u.a,Object(r.a)({variant:o?"body2":"body1",className:i.subheader,color:"textSecondary",component:"span",display:"block"},_),v)),l.a.createElement(d,Object(r.a)({className:Object(c.a)(i.root,s),ref:t},O),o&&l.a.createElement("div",{className:i.avatar},o),l.a.createElement("div",{className:i.content},E,v),a&&l.a.createElement("div",{className:i.action},a))}));t.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(s)},339:function(e,t,a){"use strict";a.r(t);var r=a(221),n=a(0),o=a.n(n),l=a(219),c=a(73),i=a.n(c),u=a(226),s=a(67),m=a(203),d=a(332),b=a(60),p=a(333),f=a(334),_=a(193),g=a(194),y=a(328),O=a(329),E=a(214),v=a(206),j=a(216),h=a(211),q=a(244),x=a(71);a(224);function N(){var e=Object(r.a)(["\nmutation AddArt($art: InpArt!) {\n    addArt(art: $art) {\n        _id\n        creator\n        about_creator\n        url_path\n        art_type\n        art_format\n        create_date\n    }\n}\n"]);return N=function(){return e},e}function A(){var e=Object(r.a)(["\nmutation DeleteArt($id: ID!) {\n    deleteArt(id: $id){\n        _id\n    }\n}\n"]);return A=function(){return e},e}function S(){var e=Object(r.a)(["\nmutation UpdateArts($id: ID!, $art: InpArt) {\n    updateArt(id: $id, art:  $art) {\n        _id\n        creator\n        about_creator\n        url_path\n        art_type\n        art_format\n        create_date\n    }   \n}\n"]);return S=function(){return e},e}function C(){var e=Object(r.a)(["\nquery AllArts($options: InpOptions){\n    allArts(options: $options) {\n        _id\n        creator\n        about_creator\n        url_path\n        art_format\n        art_type\n        create_date\n    }\n}\n"]);return C=function(){return e},e}var P=i()(C()),D=i()(S()),w=i()(A()),I=i()(N()),T=["creator","about_creator","url_path","art_type","art_format"],k={creator:{value:"Creator",required:!0},about_creator:{value:"About Creator",required:!0},url_path:{value:"URL path",required:!0},art_format:{value:"Format",required:!0}},M=Object(s.a)((function(){return{editor:{fontFamily:"IBM Plex Mono, ubuntu mono, consolas, source code pro, monospace !important"}}}));t.default=function(){var e=Object(x.a)();M();return o.a.createElement(l.a,{updateObject:{update_query:D,error_message:"Error Upadting Art",success_message:"Updated Art!",update_var_unique:"id",update_var_info:"art"},deleteObject:{delete_query:w,delete_unique_var:"id",delete_unique_field:"_id",error_message:"Error deleting Art",success_message:"Deleted Art!"},queryObject:{query_query:P,query_unique_field:"_id",query_tablename:"allArts",forEachItem:function(t,a,r,n){var l=new Date;l.setTime(t.create_date);var c=l.getUTCDate(),i=l.getMonth()+1,s=l.getFullYear(),y="".concat(i,"/").concat(c,"/").concat(s);return o.a.createElement(m.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:3,classname:"".concat(e.mx2," ").concat(e.my2)},o.a.createElement(d.a,null,o.a.createElement(u.a,{disableTypography:!0,title:o.a.createElement(b.a,{variant:"h6",noWrap:!0},t.creator),subheader:o.a.createElement(b.a,{noWrap:!0,variant:"subtitle2"},t.about_creator)}),o.a.createElement(p.a,null,o.a.createElement(b.a,{variant:"overline"},"Preview"),"image"===t.art_format?o.a.createElement("img",{style:{width:"100%",height:"180px",objectFit:"cover"},src:t.url_path}):o.a.createElement("iframe",{style:{maxHeight:"360px",width:"100%"},src:t.url_path}),o.a.createElement(b.a,null,"Created On: ",y)),o.a.createElement(f.a,{disableSpacing:!0},o.a.createElement(_.a,{onClick:r},o.a.createElement(g.a,null,"edit")),o.a.createElement(_.a,{onClick:n},o.a.createElement(g.a,null,"delete")))))},query_params:{type:"teacher"}},addObject:{add_query:I,error_message:"Error Adding Article",success_message:"Added Article",add_var_info:"art"},constfieldsNameList:T,fieldNameMapping:k,dialogRender:function(e){return o.a.createElement(n.Fragment,null,o.a.createElement(y.a,null,e.title),o.a.createElement(O.a,{dividers:!0},e.text))},editorRender:function(e,t){return console.log(e),o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(m.a,{container:!0},o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(E.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"Creator",required:!0,name:"creator",value:e.creator,onChange:t})),o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(E.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"About Creator",required:!0,name:"about_creator",value:e.about_creator,onChange:t})),o.a.createElement(m.a,{item:!0,xs:12},o.a.createElement(E.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"URL",required:!0,name:"url_path",value:e.url_path,onChange:t})),o.a.createElement(v.a,{fullWidth:!0},o.a.createElement(j.a,null,"Format"),o.a.createElement(h.a,{value:e.art_format,onChange:t,inputProps:{name:"art_format"}},o.a.createElement(q.a,{value:"image"},"Image"))),o.a.createElement(v.a,{fullWidth:!0},o.a.createElement(j.a,null,"Type"),o.a.createElement(h.a,{value:e.art_type,onChange:t,inputProps:{name:"art_type"}},o.a.createElement(q.a,{value:"teacher"},"Advisory")))))}})}}}]);
//# sourceMappingURL=8.539864e4.chunk.js.map