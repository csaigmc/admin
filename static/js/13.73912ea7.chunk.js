(this["webpackJsonpcsaigmc-frontend"]=this["webpackJsonpcsaigmc-frontend"]||[]).push([[13],{219:function(e,t,n){"use strict";var a=n(41),r=n(19),o=n(15),l=n(0),c=n.n(l),u=n(157),i=(n(72),n(25)),s=n(103),d=function(e){var t=e.errorText;return c.a.createElement("div",{className:"col-12 text-center"},c.a.createElement("div",{className:"display-inline-block"},c.a.createElement("h2",{className:"bg-danger p-2 rounded-sm text-light text-center"},t)))},m=n(222),f=n.n(m),_=n(67),b=n(203),p=n(60),g=n(345),y=n(331),O=n(194),h=n(327),j=n(71),v=n(328),E=n(329),q=n(330),S=n(208),N=n(40);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var D=function(e,t){var n={};return t.map((function(t,a){n[t]=e&&e[t]||""})),n},P=function(e){var t=e.fullScreen,n=e.renderer,a=e.isShowing,u=e.editdata,i=e.constfieldsNameList,s=e.fieldNameMapping,d=e.onSave,m=e.onClose,f=Object(l.useState)(D(u,i)),_=Object(o.a)(f,2),p=_[0],g=_[1];Object(l.useEffect)((function(){g(D(u,i))}),[a]);N.b&&(console.log("----------EDITOR BEGIN-------------"),console.log(a),console.log(u),console.log(i),console.log(s),console.log("----------EDITOR END-------------"));var y=n(p,(function(e){g(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p,Object(r.a)({},e.target.name,e.target.value)))}));return console.log(y),c.a.createElement(h.a,{fullScreen:t,open:a,onClose:function(){return m()},"aria-labelledby":"student-data-edit"},c.a.createElement(v.a,null,"Edit Details "),c.a.createElement(E.a,null,c.a.createElement(b.a,{container:!0},y)),c.a.createElement(q.a,null,c.a.createElement(S.a,{onClick:function(){return m()}},"Cancel"),c.a.createElement(S.a,{color:"primary",onClick:function(){return d(p)}},"Save")))};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return M}));var k=Object(_.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}})),M=function(e){var t,n=e.updateObject,m=e.deleteObject,_=e.queryObject,v=e.addObject,E=e.constfieldsNameList,q=e.fieldNameMapping,S=e.editorRender,x=e.fullScreen,D=e.dialogRender,C=Object(i.b)().setLoading,M=Object(l.useState)(null),T=Object(o.a)(M,2),I=T[0],L=T[1],R=Object(l.useState)(!1),W=Object(o.a)(R,2),$=W[0],A=W[1],F=Object(l.useState)(!1),U=Object(o.a)(F,2),B=U[0],G=U[1],H=Object(l.useState)("Dummy Message"),J=Object(o.a)(H,2),Q=J[0],V=J[1],z=Object(l.useState)(!1),K=Object(o.a)(z,2),Y=K[0],X=K[1],Z=Object(l.useState)(-1),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(l.useState)(!0),re=Object(o.a)(ae,2),oe=re[0],le=re[1],ce=Object(u.b)(_.query_query,{variables:{options:w({skip:0,limit:12},_.query_params)}}),ue=ce.loading,ie=ce.data,se=(ce.error,ce.fetchMore),de=Object(u.a)(n.update_query),me=Object(o.a)(de,2),fe=me[0],_e=me[1],be=Object(u.a)(m.delete_query,{update:function(e,t){console.log("___DELETE___"),console.log(t),e.writeQuery({query:_})}}),pe=Object(o.a)(be,2),ge=pe[0],ye=pe[1],Oe=Object(u.a)(v.add_query,{update:function(e,t){console.log("___ADD___"),console.log(t)}}),he=Object(o.a)(Oe,2),je=he[0],ve=he[1],Ee=Object(j.a)(),qe=k(),Se=Object(i.b)();if(N.b&&(console.log("...Component Custom.."),console.log(ie),console.log(".....")),Object(l.useEffect)((function(){!0===ue?C(!0):!1===ue&&(C(!1),ie[_.query_tablename].length<12&&le(!1))}),[ue]),Object(l.useEffect)((function(){_e&&!1===_e.loading&&!0===Y&&(V(_e.error?n.error_message:n.success_message),G(!0),C(!1))}),[_e.loading]),Object(l.useEffect)((function(){ve&&!1===ve.loading&&!0===Y&&(V(ve.error?v.error_message:v.success_message),G(!0),C(!1))}),[ve.loading]),Object(l.useEffect)((function(){ye&&!1===ye.loading&&!0===Y&&(V(ye.error?m.error_message:m.success_message),G(!0),C(!1))}),[ye.loading]),console.log(ie),!0===ue)t=c.a.createElement(s.a,null);else if("undefined"!==typeof ie&&ie)if(0===ie[_.query_tablename].length)t=c.a.createElement(b.a,{container:!0,justify:"center"},c.a.createElement(b.a,{item:!0},c.a.createElement(p.a,{variant:"h2",className:qe.notfound},_.null_found)));else{for(var Ne=ie[_.query_tablename].map((function(e,t){return _.forEachItem(e,t,(function(){L(t),A(!0)}),(function(){ge({variables:Object(r.a)({},m.delete_unique_var,e[m.delete_unique_field])}),X(!0)}),ne)})),xe=[],De=0;De<ie[_.query_tablename].length;De+=4){for(var Pe=[],Ce=De;Ce<De+4;++Ce)Pe.push(Ne[Ce]);xe.push(c.a.createElement(b.a,{container:!0},Pe))}N.b&&(console.log("xxxx"),console.log(Ne),console.log("xxxx")),t=c.a.createElement(f.a,{hasMore:oe,loader:c.a.createElement("div",null,"Loading More Items..."),endMessage:c.a.createElement("div",null,"Loaded All!"),next:function(){var e=ie[_.query_tablename].length/12;return console.log("SKIP: ".concat(e," | ").concat(Math.floor(e))),se({variables:{options:w({skip:e,limit:12},_.query_params)},updateQuery:function(e,t){var n=t.fetchMoreResult;return n&&oe?(console.log(e),console.log(_),console.log(n),n[_.query_tablename].length<12&&le(!1),Object(r.a)({},_.query_tablename,[].concat(Object(a.a)(e[_.query_tablename]),Object(a.a)(n[_.query_tablename])))):e}})}},xe)}else t=c.a.createElement(d,{errorText:_.null_found?_.null_found:"Nothing Found :/"});return N.b&&console.log(t),c.a.createElement(b.a,{container:!0,className:Ee.py2},c.a.createElement(g.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:B,autoHideDuration:3e3,message:Q,onClose:function(){G(!1)}}),c.a.createElement(P,{fullScreen:!!x,renderer:S,isShowing:$,constfieldsNameList:E,fieldNameMapping:q,editdata:null!==I&&ie&&ie[_.query_tablename]?ie[_.query_tablename][I]:null,onClose:function(){-1!==I&&L(-1),A(!1)},onSave:function(e){if(N.b&&(console.log("____ON SAVE BEGIN____"),console.log(e),console.log("____ON SAVE END____")),null!==I){var t,a=ie[_.query_tablename][I][_.query_unique_field];A(!1),Se.setLoading(!0),fe({variables:(t={},Object(r.a)(t,n.update_var_unique,a),Object(r.a)(t,n.update_var_info,e),t)}),X(!0)}else A(!1),Se.setLoading(!0),je({variables:Object(r.a)({},v.add_var_info,e)}),X(!0)}}),c.a.createElement(b.a,{item:!0,xs:12},t),c.a.createElement(y.a,{className:qe.fab,color:"secondary",onClick:function(){L(null),A(!0)}},c.a.createElement(O.a,null,"add")),c.a.createElement(h.a,{onClose:function(){return ne(-1)},color:"secondary",open:-1!==te&&te>=0},D&&-1!==te&&te>=0&&ie&&ie[_.query_tablename]?D(ie[_.query_tablename][te]):null))};t.b=M},226:function(e,t,n){"use strict";var a=n(1),r=n(2),o=n(0),l=n.n(o),c=(n(8),n(3)),u=n(6),i=n(60),s=l.a.forwardRef((function(e,t){var n=e.action,o=e.avatar,u=e.classes,s=e.className,d=e.component,m=void 0===d?"div":d,f=e.disableTypography,_=void 0!==f&&f,b=e.subheader,p=e.subheaderTypographyProps,g=e.title,y=e.titleTypographyProps,O=Object(r.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),h=g;null==h||h.type===i.a||_||(h=l.a.createElement(i.a,Object(a.a)({variant:o?"body2":"h5",className:u.title,component:"span",display:"block"},y),h));var j=b;return null==j||j.type===i.a||_||(j=l.a.createElement(i.a,Object(a.a)({variant:o?"body2":"body1",className:u.subheader,color:"textSecondary",component:"span",display:"block"},p),j)),l.a.createElement(m,Object(a.a)({className:Object(c.a)(u.root,s),ref:t},O),o&&l.a.createElement("div",{className:u.avatar},o),l.a.createElement("div",{className:u.content},h,j),n&&l.a.createElement("div",{className:u.action},n))}));t.a=Object(u.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(s)},336:function(e,t,n){"use strict";n.r(t);var a=n(221),r=n(0),o=n.n(r),l=(n(72),n(73)),c=n.n(l),u=n(226),i=n(67),s=n(203),d=n(332),m=n(60),f=n(333),_=n(334),b=n(193),p=n(194),g=n(214),y=n(71),O=n(219);function h(){var e=Object(a.a)(["\nmutation AddStudent($student: InpStudent!) {\n    addStudent(student: $student) {\n        _id\n        roll_no\n        first_name\n        last_name\n        country_code\n        phone_no\n        father_name\n        mother_name\n        create_date\n    }\n}\n"]);return h=function(){return e},e}function j(){var e=Object(a.a)(["\nmutation DeleteStudent($roll_no: ID!) {\n    deleteStudent(roll_no: $roll_no){\n        _id\n    }\n}\n"]);return j=function(){return e},e}function v(){var e=Object(a.a)(["\nmutation UpdateStudent($id: ID!, $student: InpStudent!) {\n    updateStudent(id: $id, student:  $student) {\n        _id\n        roll_no\n        first_name\n        last_name\n        country_code\n        phone_no\n        father_name\n        mother_name\n        create_date\n    }   \n}\n"]);return v=function(){return e},e}function E(){var e=Object(a.a)(["\nquery allStudents($options: InpOptions){\n    allStudents(options: $options) {\n        _id\n        roll_no\n        first_name\n        last_name\n        country_code\n        phone_no\n        father_name\n        mother_name\n        create_date\n    }\n}\n"]);return E=function(){return e},e}Object(i.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}}));var q=c()(E()),S=c()(v()),N=c()(j()),x=c()(h()),D=["roll_no","first_name","last_name","country_code","phone_no","father_name","mother_name"],P={roll_no:{value:"Roll no",required:!0},first_name:{value:"First Name",required:!1},last_name:{value:"Last Name",required:!1},country_code:{value:"Country Code",required:!1},phone_no:{value:"Phone No",required:!1},father_name:{value:"Father Name",required:!1},mother_name:{value:"Mother Name",required:!1}};t.default=function(){var e=Object(y.a)();return o.a.createElement(O.b,{updateObject:{update_query:S,error_message:"Error student Notification",success_message:"Updated Student!",update_var_unique:"id",update_var_info:"student"},deleteObject:{delete_query:N,delete_unique_var:"roll_no",delete_unique_field:"roll_no",error_message:"Error deleting Student",success_message:"Deleted Student!"},queryObject:{query_query:q,query_unique_field:"_id",query_tablename:"allStudents",forEachItem:function(t,n,a,r){var l=new Date;l.setTime(t.create_date);var c=l.getUTCDate(),i=l.getMonth()+1,g=l.getFullYear(),y="".concat(i,"/").concat(c,"/").concat(g);return o.a.createElement(s.a,{key:n,item:!0,xs:12,sm:6,md:4,lg:3,classname:"".concat(e.mx2," ").concat(e.my2)},o.a.createElement(d.a,null,o.a.createElement(u.a,{disableTypography:!0,title:o.a.createElement(m.a,{variant:"h6",noWrap:!0},t.first_name," ",t.last_name),subheader:o.a.createElement(m.a,{noWrap:!0,variant:"subtitle2"},t.roll_no)}),o.a.createElement(f.a,null,o.a.createElement(m.a,{noWrap:!0},"Father's Name: ",t.father_name),o.a.createElement(m.a,{noWrap:!0},"Mother's Name: ",t.mother_name),o.a.createElement(m.a,{noWrap:!0},"Contact Details: ",""!==t.country_code?"+".concat(t.country_code):""," ",t.phone_no),o.a.createElement(m.a,{noWrap:!0},"Created On: ",y)),o.a.createElement(_.a,{disableSpacing:!0},o.a.createElement(b.a,{onClick:a},o.a.createElement(p.a,null,"edit")),o.a.createElement(b.a,{onClick:r},o.a.createElement(p.a,null,"delete")))))}},addObject:{add_query:x,error_message:"Error Adding Student",success_message:"Added Student",add_var_info:"student"},constfieldsNameList:D,fieldNameMapping:P,editorRender:function(e,t){return D.map((function(n,a){var r=P[n];return o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(g.a,{margin:"normal",noWrap:!0,fullWidth:!0,label:"".concat(r.value),required:r.required,name:"".concat(n),value:e[n],onChange:t}))}))}})}}}]);
//# sourceMappingURL=13.73912ea7.chunk.js.map