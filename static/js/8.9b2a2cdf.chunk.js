(this["webpackJsonpcsaigmc-frontend"]=this["webpackJsonpcsaigmc-frontend"]||[]).push([[8],{219:function(e,t,a){"use strict";var n=a(19),r=a(15),o=a(0),l=a.n(o),c=a(157),i=(a(72),a(24)),s=a(103),u=function(e){var t=e.errorText;return l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("div",{className:"display-inline-block"},l.a.createElement("h2",{className:"bg-danger p-2 rounded-sm text-light text-center"},t)))},m=(a(223),a(67)),d=a(203),p=a(60),b=a(342),f=a(331),g=a(194),_=a(327),O=a(71),j=a(328),E=a(329),y=a(330),v=a(208),h=a(40);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var q=function(e,t){var a={};return t.map((function(t,n){a[t]=e&&e[t]||""})),a},S=function(e){var t=e.fullScreen,a=e.renderer,c=e.isShowing,i=e.editdata,s=e.constfieldsNameList,u=e.fieldNameMapping,m=e.onSave,p=e.onClose,b=Object(o.useState)(q(i,s)),f=Object(r.a)(b,2),g=f[0],O=f[1];Object(o.useEffect)((function(){O(q(i,s))}),[c]);h.b&&(console.log("----------EDITOR BEGIN-------------"),console.log(c),console.log(i),console.log(s),console.log(u),console.log("----------EDITOR END-------------"));var S=a(g,(function(e){O(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},g,Object(n.a)({},e.target.name,e.target.value)))}));return console.log(S),l.a.createElement(_.a,{fullScreen:t,open:c,onClose:function(){return p()},"aria-labelledby":"student-data-edit"},l.a.createElement(j.a,null,"Edit Details "),l.a.createElement(E.a,null,l.a.createElement(d.a,{container:!0},S)),l.a.createElement(y.a,null,l.a.createElement(v.a,{onClick:function(){return p()}},"Cancel"),l.a.createElement(v.a,{color:"primary",onClick:function(){return m(g)}},"Save")))};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return D}));var w=Object(m.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}})),D=function(e){var t,a=e.updateObject,m=e.deleteObject,j=e.queryObject,E=e.addObject,y=e.constfieldsNameList,v=e.fieldNameMapping,C=e.editorRender,q=e.fullScreen,x=e.dialogRender,D=Object(i.b)().setLoading,P=Object(o.useState)(null),I=Object(r.a)(P,2),k=I[0],M=I[1],$=Object(o.useState)(!1),L=Object(r.a)($,2),R=L[0],T=L[1],A=Object(o.useState)(!1),G=Object(r.a)(A,2),H=G[0],W=G[1],B=Object(o.useState)("Dummy Message"),F=Object(r.a)(B,2),U=F[0],z=F[1],J=Object(o.useState)(!1),V=Object(r.a)(J,2),Y=V[0],K=V[1],Q=Object(o.useState)(-1),X=Object(r.a)(Q,2),Z=X[0],ee=X[1],te=Object(o.useState)(!0),ae=Object(r.a)(te,2),ne=(ae[0],ae[1],Object(c.b)(j.query_query,{variables:{options:N({skip:0,limit:40},j.query_params)}})),re=ne.loading,oe=ne.data,le=(ne.error,ne.fetchMore,Object(c.a)(a.update_query)),ce=Object(r.a)(le,2),ie=ce[0],se=ce[1],ue=Object(c.a)(m.delete_query),me=Object(r.a)(ue,2),de=me[0],pe=me[1],be=Object(c.a)(E.add_query),fe=Object(r.a)(be,2),ge=fe[0],_e=fe[1],Oe=Object(O.a)(),je=w(),Ee=Object(i.b)();if(h.b&&(console.log("...Component Custom.."),console.log(oe),console.log(".....")),!0===re?D(!0):!1===re&&D(!1),Object(o.useEffect)((function(){se&&!1===se.loading&&!0===Y&&(z(se.error?a.error_message:a.success_message),W(!0))}),[se.loading]),Object(o.useEffect)((function(){_e&&!1===_e.loading&&!0===Y&&(z(_e.error?E.error_message:E.success_message),W(!0))}),[_e.loading]),Object(o.useEffect)((function(){pe&&!1===pe.loading&&!0===Y&&(z(pe.error?m.error_message:m.success_message),W(!0))}),[pe.loading]),console.log(oe),!0===re)t=l.a.createElement(s.a,null);else if("undefined"!==typeof oe&&oe)if(0===oe[j.query_tablename].length)t=l.a.createElement(d.a,{container:!0,justify:"center"},l.a.createElement(d.a,{item:!0},l.a.createElement(p.a,{variant:"h2",className:je.notfound},j.null_found)));else{for(var ye=oe[j.query_tablename].map((function(e,t){return j.forEachItem(e,t,(function(){M(t),T(!0)}),(function(){de({variables:Object(n.a)({},m.delete_unique_var,e[m.delete_unique_field])}),K(!0)}),ee)})),ve=[],he=0;he<oe[j.query_tablename].length;he+=4){for(var Ce=[],qe=he;qe<he+4;++qe)Ce.push(ye[qe]);ve.push(l.a.createElement(d.a,{item:!0,xs:12},l.a.createElement(d.a,{container:!0,spacing:2},Ce)))}h.b&&(console.log("xxxx"),console.log(ye),console.log("xxxx")),t=l.a.createElement(d.a,{container:!0,spacing:2},ve)}else t=l.a.createElement(u,{errorText:j.null_found?j.null_found:"Nothing Found :/"});return h.b&&console.log(t),l.a.createElement(d.a,{container:!0,className:Oe.py2},l.a.createElement(b.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:H,autoHideDuration:3e3,message:U,onClose:function(){W(!1)}}),l.a.createElement(S,{fullScreen:!!q,renderer:C,isShowing:R,constfieldsNameList:y,fieldNameMapping:v,editdata:null!==k&&oe&&oe[j.query_tablename]?oe[j.query_tablename][k]:null,onClose:function(){-1!==k&&M(-1),T(!1)},onSave:function(e){if(h.b&&(console.log("____ON SAVE BEGIN____"),console.log(e),console.log("____ON SAVE END____")),null!==k){var t,r=oe[j.query_tablename][k][j.query_unique_field];T(!1),Ee.setLoading(!0),ie({variables:(t={},Object(n.a)(t,a.update_var_unique,r),Object(n.a)(t,a.update_var_info,e),t)}),K(!0)}else T(!1),Ee.setLoading(!0),ge({variables:Object(n.a)({},E.add_var_info,e)}),K(!0)}}),t,l.a.createElement(f.a,{className:je.fab,color:"secondary",onClick:function(){M(null),T(!0)}},l.a.createElement(g.a,null,"add")),l.a.createElement(_.a,{onClose:function(){return ee(-1)},color:"secondary",open:-1!==Z&&Z>=0},x&&-1!==Z&&Z>=0&&oe&&oe[j.query_tablename]?x(oe[j.query_tablename][Z]):null))};t.b=D},244:function(e,t,a){"use strict";var n=a(2),r=a(19),o=a(1),l=a(0),c=a.n(l),i=(a(8),a(3)),s=a(6),u=a(200),m=c.a.forwardRef((function(e,t){var a,r=e.classes,l=e.className,s=e.component,m=void 0===s?"li":s,d=e.disableGutters,p=void 0!==d&&d,b=e.role,f=void 0===b?"menuitem":b,g=e.selected,_=e.tabIndex,O=Object(n.a)(e,["classes","className","component","disableGutters","role","selected","tabIndex"]);return e.disabled||(a=void 0!==_?_:-1),c.a.createElement(u.a,Object(o.a)({button:!0,role:f,tabIndex:a,component:m,selected:g,disableGutters:p,classes:{dense:r.dense},className:Object(i.a)(r.root,l,g&&r.selected,!p&&r.gutters),ref:t},O))}));t.a=Object(s.a)((function(e){return{root:Object(o.a)({},e.typography.body1,Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(o.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(m)},326:function(e,t,a){"use strict";a.r(t);var n=a(222),r=a(0),o=a.n(r),l=(a(72),a(73)),c=a.n(l),i=a(67),s=a(203),u=a(332),m=a(333),d=a(60),p=a(334),b=a(193),f=a(194),g=a(214),_=a(206),O=a(216),j=a(211),E=a(244),y=a(71),v=a(219);function h(){var e=Object(n.a)(["\nmutation AddComplaint($complaint: InpComplaint!) {\n    addComplaint(complaint: $complaint) {\n        _id\n        complaint_message\n        complaint_status\n        create_date\n    }\n}\n"]);return h=function(){return e},e}function C(){var e=Object(n.a)(["\nmutation DeleteComplaint($id: ID!) {\n    deleteComplaint(id: $id){\n        _id\n    }\n}\n"]);return C=function(){return e},e}function q(){var e=Object(n.a)(["\nmutation UpdateComplaint($id: ID!, $complaint: InpComplaint!) {\n    updateComplaint(id: $id, complaint:  $complaint) {\n        _id\n        complaint_message\n        complaint_status\n        create_date\n    }   \n}\n"]);return q=function(){return e},e}function S(){var e=Object(n.a)(["\nquery AllComplaints($options: InpOptions){\n    allComplaints(options: $options) {\n        _id\n        complaint_message\n        complaint_status\n        create_date\n    }\n}\n"]);return S=function(){return e},e}Object(i.a)((function(e){return{notfound:{color:e.palette.grey[300],fontWeight:500},fab:{position:"fixed",right:e.spacing(2),bottom:e.spacing(2)}}}));var x=c()(S()),N=c()(q()),w=c()(C()),D=c()(h()),P=["complaint_message","complaint_status"],I={complaint_message:{value:"Complaint Message",required:!0},complaint_status:{value:"Complaint Status",required:!0}};t.default=function(){var e=Object(y.a)();return o.a.createElement(v.b,{updateObject:{update_query:N,error_message:"Error updating Complaint",success_message:"Updated Complaint!",update_var_unique:"id",update_var_info:"complaint"},deleteObject:{delete_query:w,delete_unique_var:"id",delete_unique_field:"id",error_message:"Error deleting Complaint",success_message:"Deleted Complaint!"},queryObject:{query_query:x,query_unique_field:"_id",query_tablename:"allComplaints",forEachItem:function(t,a,n,r){var l=new Date;l.setTime(t.create_date);var c=l.getUTCDate(),i=l.getMonth()+1,g=l.getFullYear(),_="".concat(i,"/").concat(c,"/").concat(g);return o.a.createElement(s.a,{key:a,item:!0,xs:12,sm:6,md:4,lg:3,classname:"".concat(e.mx2," ").concat(e.my2)},o.a.createElement(u.a,null,o.a.createElement(m.a,null,o.a.createElement(d.a,null,t.complaint_message),o.a.createElement(d.a,null,"Status: ",o.a.createElement(d.a,{component:"span",color:"pending"===t.complaint_status?"inherit":"inprogress"===t.complaint_status?"primary":"error"},t.complaint_status)," "),o.a.createElement(d.a,null,"Created On: ",_)),o.a.createElement(p.a,{disableSpacing:!0},o.a.createElement(b.a,{onClick:n},o.a.createElement(f.a,null,"edit")),o.a.createElement(b.a,{onClick:r},o.a.createElement(f.a,null,"delete")))))}},addObject:{add_query:D,error_message:"Error Adding Complaint",success_message:"Added Complaint",add_var_info:"complaint"},constfieldsNameList:P,fieldNameMapping:I,editorRender:function(t,a){return console.log(t),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(g.a,{multiline:!0,rowsMax:5,rows:5,label:"Complaint Message",placeholder:"Complaint Message",name:"complaint_message",onChange:a,value:t.complaint_message,fullWidth:!0,className:"".concat(e.mb1)}),o.a.createElement(_.a,{fullWidth:!0},o.a.createElement(O.a,{htmlFor:"age-simple"},"Complaint Status"),o.a.createElement(j.a,{value:t.complaint_status,onChange:a,inputProps:{name:"complaint_status"}},o.a.createElement(E.a,{value:"pending"},"Pending"),o.a.createElement(E.a,{value:"inprogress"},"In Progress"),o.a.createElement(E.a,{value:"resolved"},"Resolved"))))}})}}}]);
//# sourceMappingURL=8.9b2a2cdf.chunk.js.map